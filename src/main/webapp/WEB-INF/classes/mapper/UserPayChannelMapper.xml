<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.smm.payCenter.dao.UserPayChannelDao" >
  <resultMap id="BaseResultMap" type="com.smm.payCenter.domain.UserPayChannel" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Nov 17 15:31:55 CST 2015.
    -->
    <id column="user_pay_channel_id" property="userPayChannelId" jdbcType="INTEGER" />
    <result column="user_id" property="userId" jdbcType="INTEGER" />
    <result column="pay_channel_id" property="payChannelId" jdbcType="INTEGER" />
    <result column="user_account_no" property="userAccountNo" jdbcType="VARCHAR" />
    <result column="user_account_name" property="userAccountName" jdbcType="VARCHAR" />
    <result column="user_account_status" property="userAccountStatus" jdbcType="INTEGER" />
    <result column="freeze_money" property="freezeMoney" jdbcType="DECIMAL" />
    <result column="use_money" property="useMoney" jdbcType="DECIMAL" />
    <result column="create_time" property="createTime" jdbcType="VARCHAR" />
  </resultMap>
  <select id="getUserPayChannel" parameterType="java.util.Map" resultMap="BaseResultMap">
  	
  	SELECT * FROM user_pay_channel a

	INNER JOIN user_account b ON a.user_id = b.user_id
		
	WHERE b.user_name like CONCAT('%',#{userName},'%')
	
	<if test=" userId != null">
  		and a.user_id  = #{userId}
  	</if>
  	
  	 
  	 
  </select>
  <select id="getUserPayChannelByUserId"  parameterType="java.util.Map" resultMap="BaseResultMap">
  
  	SELECT * FROM user_pay_channel
  	
  	 WHERE user_id = #{userId}
  	 
  </select>
</mapper>